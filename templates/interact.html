{% extends "base.html" %}
{%block content%}
  <nav id="main-nav" class="navbar navbar-default navbar-fixed-top navbar-custom">
      <div class="nav-links">
          <ul class="nav navbar-nav">
          <li> <a href="#" onclick="javasript:openSpaces();">Open Spaces</a> </li>
          <li> <a href="#" onclick="javasript:closeSpaces();">Close Spaces</a> </li>
          </ul>
      </div>
  </nav>
  <div class="tool-box">
    <table>
      <tr>
        <td>TEXT CONFIDENCE:</td>
        <td>
          <label class="switch">
            <input id="confidence" type="checkbox"/>
            <span class="slider round"></span>
          </label>
        </td>
      </tr>
      <tr><td></td></tr>
    </table>
  </div>
  <div class="stage container-fluid">
  	<div class="row">
  		<div class="vis">
        {% for i in range(image_blocks|length) %}
        {% if i > 0 %}
        <div class="img-block img-patch squeeze" id="{{i-1}}" data-img-height="{{ image_patches[i-1]['height'] }}" style="width:{{ image_patches[i-1]['width'] }}px;height:0px;" data-img-src="data:image/png;base64,{{ image_patches[i-1]['src'] }}">
          <input style="margin-left:{{ bounding_boxes[i-1]['x'] }}px;width:{{bounding_boxes[i-1]['w']}}px;" class="img-patch-text" type="text" />
        </div>
        {% endif %}        
        <div class="img-block" id="{{i}}" style="height:{{ image_blocks[i]['height'] }}px;width:{{ image_blocks[i]['width'] }}px;" data-img-src="data:image/png;base64,{{image_blocks[i]['src']}}">
          <canvas class="text-confidence"></canvas>
        </div>
        {% endfor %}
  		</div>
    </div>
  </div>
{%endblock%}
{%block scripts%}
  <script src="./static/js/main.js"></script>
  <script type="text/javascript">
    var word_blocks = {{ word_blocks|safe }}
  </script>
  <script src="./static/js/interact.js"></script>
{%endblock%}